<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>computed计算</title>
    <style>
        li{
            list-style: none;
        }
        .active{
            background-color: rgb(21, 218, 224);
        }
    </style>
</head>

<body>
    <div id="app">
        <audio :src="getCurrentMusic" autoplay controls></audio>
        <ul>
            <li v-for='(item, index) in musicData' @click='clickHandler(index)' :class="{active:currentIndex==index}">
                <h2>{{item.id}}-歌手：{{item.name}}</h2>
                <p>歌名：{{item.SongSrc}}</p>
            </li>
        </ul>
    </div>
    <script src="../node_modules/vue/dist/vue.min.js"></script>
    <script>
        var musicData = [{
                id: 1,
                name: '邓紫棋',
                SongSrc: './static/G.E.M.邓紫棋 - 两个自己.mp3'
            },
            {
                id: 2,
                name: '五月天',
                SongSrc: './static/拥抱.mp3'
            },
            {
                id: 3,
                name: '队长',
                SongSrc: './static/队长 - 予你.mp3'
            },
            {
                id: 4,
                name: '陆虎',
                SongSrc: '/static/陆虎-雪落下的声音.mp3'
            },
            {
                id: 5,
                name: '还潮',
                SongSrc: '/static/还潮 - 老式双卡录音机.mp3'
            },
        ];
        new Vue({
            el: '#app',
            data() {
                return {
                    musicData: musicData,
                    currentIndex: 0
                }
            },
            computed: {
                // 计算属性默认只有getter
                getCurrentMusic:function(){
                    return this.musicData[this.currentIndex].SongSrc;
                }
            },
            methods:{
                clickHandler(index){
                    this.currentIndex = index;
                }
            }
        })
    </script>
</body>

</html>